$(document).ready(function () { $(window).scroll(function () { $(window).scrollTop() > 500 ? $("#rocket").addClass("show") : $("#rocket").removeClass("show") }); $("#rocket").click(function () { $("#rocket").addClass("launch"); $("html, body").animate({ scrollTop: 0 }, 500, function () { $("#rocket").removeClass("show launch") }); return false }); $("#s-k").change(function () { var k = $.trim($("#s-k").val()); $("#s-u").empty().removeClass("has-result"); if (k.length) { $.ajax({ url: "/blog/search?key=" + k, success: function (b) { var s = ""; if (b.length) { $.each(b, function (i, o) { s += `<li><a href='` + o.index + `'target='_blank'>` + o.title + `</a></li>` }) } else { s = `<li>没搜到呀...换个关键词试试呗！</li>` }; $("#s-u").append(s).addClass("has-result") }, }) } }) })